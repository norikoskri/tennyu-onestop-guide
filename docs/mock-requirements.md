# モック要件定義：転入・引越しワンストップ支援

## 概要

**プロジェクト名**: 地域ガイド（転入者向け地域情報プラットフォーム）
**目的**: Phase 1 MVP の価値仮説を検証するためのモック作成
**対象ユーザー**: 転入者（新しい地域へ引越しする人）

---

## 設計思想

### JPDテックの力を活かす一気通貫支援

**最小の入力で最大の支援**を実現する:

```
[情報入力] → [やることの整理] → [必要書類の準備] → [予約] → [オンライン申請] → [進捗管理]
     1回の入力で          ────────── 一気通貫で支援 ──────────
```

### 自動化の設計方針

完全自動の「代理申請」は、本人確認・電子署名・来庁が必要な領域が多く現実的に詰まる。
そのため、**実装可能な範囲に限定**し、以下の方針で設計:

| 方針 | 内容 |
|------|------|
| **自動でできること** | やることリスト生成、必要書類の案内、予約枠の検索、フォーム入力の事前準備 |
| **ユーザーが確定** | 最終的な申請ボタン押下、本人確認、電子署名、来庁が必要な手続き |

> **"実行できるところは自動、最後はユーザーが確定"**

---

## 検証したい仮説

| # | 仮説 | モックで検証する内容 |
|---|------|---------------------|
| 1 | 価値仮説 | 転入者は「地域の暗黙知」に価値を感じるか |
| 2 | 差別化仮説 | 郵便局員由来の情報は独自価値があるか |
| 3 | UX仮説 | パーソナライズにより利用継続率が上がるか |
| 4 | 手続き支援仮説 | 一気通貫の手続き支援で負担軽減を実感するか |

---

## モック機能一覧

### 1. 地域ガイド表示（コア機能）

**概要**: 転入先住所を入力すると、その地域の情報が表示される

**画面・機能**:
- [ ] 住所入力フォーム（郵便番号 or 住所検索）
- [ ] 地域情報一覧表示
  - ゴミ出しルール（曜日、分別方法）
  - 町内会・自治会情報
  - おすすめ店舗（スーパー、飲食店、病院等）
  - 地域行事・イベント
  - 災害時の注意点・避難所

**モックデータ**:
- 2〜3地域分のサンプルデータを用意
- 例: 東京都世田谷区、神奈川県横浜市、福岡県福岡市

---

### 2. パーソナライズ表示

**概要**: 家族構成・関心事に応じて必要な情報を優先表示

**画面・機能**:
- [ ] プロフィール入力（オンボーディング）
  - 家族構成（単身/夫婦/子育て世帯/シニア等）
  - 関心事（子育て/医療/買い物/グルメ/スポーツ等）
- [ ] 情報の優先順位変更
  - 子育て世帯 → 保育園・学校・公園情報を優先
  - シニア → 病院・介護・買い物支援情報を優先
- [ ] 「あなたへのおすすめ」セクション

---

### 3. 手続き支援（一気通貫）

**概要**: 最小の入力で、転入に必要な手続きを一気通貫で支援

**フロー**:
```
[基本情報入力] → [やることリスト自動生成] → [各手続きの支援] → [進捗管理]
```

**画面・機能**:

#### 3-1. 基本情報入力（1回だけ）
- [ ] 転入者情報（氏名、生年月日、旧住所、新住所）
- [ ] 家族構成（同居家族の情報）
- [ ] 転入日（予定日）

#### 3-2. やることリスト自動生成
- [ ] 入力情報から必要な手続きを自動判定
- [ ] 手続きごとの期限・優先度を表示
- [ ] チェックリスト形式で進捗管理

**自動生成される手続き例**:
| カテゴリ | 手続き | 自動化レベル |
|---------|--------|-------------|
| 行政 | 転入届 | 案内のみ（来庁必須） |
| 行政 | マイナンバーカード住所変更 | 案内 + 予約支援 |
| 行政 | 国民健康保険 | 案内のみ（来庁必須） |
| ライフライン | 電気・ガス・水道 | フォーム事前入力 → ユーザー確定 |
| ライフライン | インターネット | フォーム事前入力 → ユーザー確定 |
| 金融 | 銀行口座住所変更 | 手順案内 + リンク |
| 金融 | クレジットカード | 手順案内 + リンク |
| その他 | 運転免許証 | 案内のみ（来庁必須） |
| その他 | 郵便転送届 | オンライン申請可（e転居連携） |

#### 3-3. 各手続きの支援詳細

**自動化レベルの定義**:
| レベル | 内容 | ユーザーのアクション |
|--------|------|---------------------|
| Lv.1 案内のみ | 必要書類・手順・窓口情報を表示 | 自分で手続き |
| Lv.2 予約支援 | 予約枠の検索・カレンダー連携 | 予約を確定 |
| Lv.3 事前入力 | フォームに情報を自動入力済みで表示 | 内容確認して申請ボタン |
| Lv.4 オンライン申請 | 申請まで完結（e転居等） | 最終確認のみ |

#### 3-4. 進捗管理ダッシュボード
- [ ] 手続きの完了状況を一覧表示
- [ ] 期限が近い手続きのリマインド
- [ ] 完了した手続きのチェックオフ

---

### 4. 地域情報詳細

**概要**: 各カテゴリの詳細情報を表示

**カテゴリ構成**:
| カテゴリ | 含まれる情報 |
|---------|------------|
| 生活基本 | ゴミ出し、町内会、回覧板、地域ルール |
| 子育て | 保育園、幼稚園、学校、公園、小児科 |
| 医療・健康 | 病院、クリニック、薬局、休日診療 |
| 買い物 | スーパー、コンビニ、商店街、ドラッグストア |
| グルメ | 飲食店、カフェ、地元名物 |
| 行事・イベント | 年間行事、お祭り、地域イベント |
| 防災 | 避難所、ハザードマップ、災害時の注意点 |
| 交通 | 最寄り駅、バス、駐輪場、渋滞情報 |

---

## 画面遷移（想定）

```
[トップページ]
    │
    ├─→ [基本情報入力]（1回だけ）
    │         │
    │         ▼
    │   ┌─────────────────────────────────────┐
    │   │         [ダッシュボード]              │
    │   │  ┌─────────────┬─────────────┐      │
    │   │  │             │             │      │
    │   │  ▼             ▼             ▼      │
    │   │ [やること]   [地域ガイド]  [進捗管理] │
    │   │  リスト        トップ       状況     │
    │   └─────────────────────────────────────┘
    │         │             │
    │         ▼             ▼
    │   [手続き詳細]   [カテゴリ一覧]
    │     ├─ 必要書類      │
    │     ├─ 予約支援      └─→ [詳細ページ]
    │     └─ 申請フォーム
    │
    └─→ [プロフィール設定]
            │
            ├─→ [家族構成]
            └─→ [関心事]
```

---

## 技術スタック（推奨）

| 項目 | 選定 |
|------|------|
| フレームワーク | Next.js 14 (App Router) |
| 言語 | TypeScript |
| スタイリング | Tailwind CSS |
| データ | JSON（モックデータ） |
| デプロイ | Vercel |

---

## モックデータ構造

### 地域情報

```typescript
type RegionInfo = {
  id: string;
  name: string;           // 地域名（例: 世田谷区）
  postalCode: string;     // 郵便番号
  prefecture: string;     // 都道府県
  city: string;           // 市区町村
  categories: Category[];
};

type Category = {
  id: string;
  name: string;           // カテゴリ名
  icon: string;           // アイコン
  items: InfoItem[];
};

type InfoItem = {
  id: string;
  title: string;
  description: string;
  tags: string[];         // パーソナライズ用タグ
  source: string;         // 情報源（例: 郵便局員）
  updatedAt: string;
};
```

### ユーザープロフィール（基本情報）

```typescript
type UserProfile = {
  // 基本情報（1回入力）
  name: string;
  birthDate: string;
  oldAddress: Address;
  newAddress: Address;
  moveDate: string;        // 転入予定日

  // 家族構成
  familyType: 'single' | 'couple' | 'family_with_kids' | 'senior';
  familyMembers: FamilyMember[];

  // パーソナライズ
  interests: string[];     // 関心事タグ
};

type Address = {
  postalCode: string;
  prefecture: string;
  city: string;
  street: string;
};

type FamilyMember = {
  relationship: string;    // 続柄
  birthDate: string;
  name?: string;
};
```

### 手続きタスク

```typescript
type ProcedureTask = {
  id: string;
  category: 'admin' | 'lifeline' | 'finance' | 'other';
  name: string;            // 手続き名
  description: string;
  deadline?: string;       // 期限
  priority: 'high' | 'medium' | 'low';
  automationLevel: 1 | 2 | 3 | 4;  // 自動化レベル
  status: 'pending' | 'in_progress' | 'completed';

  // 支援情報
  requiredDocs: string[];  // 必要書類
  officeInfo?: {           // 窓口情報
    name: string;
    address: string;
    hours: string;
    reservationUrl?: string;
  };
  onlineFormUrl?: string;  // オンライン申請URL
  prefillData?: Record<string, string>;  // 事前入力データ
};
```

---

## 優先順位

| 優先度 | 機能 | 理由 |
|--------|------|------|
| P0（必須） | 基本情報入力（1回） | 一気通貫支援の起点 |
| P0（必須） | やることリスト自動生成 | 手続き支援仮説の検証 |
| P0（必須） | 地域ガイド表示 | 価値仮説の検証 |
| P1（重要） | 手続き詳細（必要書類・窓口情報） | 案内レベルの支援 |
| P1（重要） | 進捗管理ダッシュボード | 一気通貫体験の可視化 |
| P1（重要） | パーソナライズ表示 | UX仮説の検証 |
| P1（重要） | モックデータ2〜3地域分 | デモ・検証用 |
| P2（あれば良い） | 予約支援（Lv.2） | 自動化レベル向上 |
| P2（あれば良い） | フォーム事前入力（Lv.3） | 自動化レベル向上 |
| P2（あれば良い） | レスポンシブ対応 | スマホでの利用想定 |
| P2（あれば良い） | 情報源（郵便局員）の表示 | 差別化仮説の検証 |

---

## 成功基準

### 地域情報
- [ ] 住所を入力すると、その地域の情報が表示される
- [ ] 家族構成・関心事に応じて情報の優先順位が変わる
- [ ] 「郵便局員からの情報」という出典が明示されている

### 手続き支援
- [ ] 基本情報を1回入力すると、やることリストが自動生成される
- [ ] 各手続きの必要書類・窓口情報が表示される
- [ ] 手続きの完了状況を管理できる（チェックオフ）
- [ ] 自動化レベルが明示されている（どこまで自動、どこからユーザー確定か）

### 全体
- [ ] モバイル・PCで閲覧可能
- [ ] 「最小入力 → 最大支援」の体験が伝わる

---

## 参考

- 事業コンセプト: [C03_J02_転入引越しワンストップ支援_WIP.md](../../output/C03_J02_転入引越しワンストップ支援_WIP.md)
- MVP最小要件: 上記ファイルの「1-11. MVP最小要件」セクション
